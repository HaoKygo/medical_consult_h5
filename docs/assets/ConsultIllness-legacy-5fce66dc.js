System.register(["./index-legacy-04b56afa.js","./index-legacy-6dd5f1d6.js","./McRadioBtn-legacy-23a61fec.js","./index-legacy-9d303c5d.js","./index-legacy-1d59c969.js","./McIcon-legacy-3fed9db7.js","./McNavBar-legacy-163ae2a7.js","./avatar-doctor-legacy-b54bf544.js","./index-legacy-38ccaefa.js","./consult-legacy-47466b10.js","./function-call-legacy-8023bfe1.js","./index-legacy-784a89ae.js","./_plugin-vue_export-helper-legacy-762b7923.js","./index-legacy-7ed2e303.js","./request-legacy-49611e85.js","./interceptor-legacy-9047adcd.js","./function-call-legacy-85d542e3.js","./index-legacy-1e717b33.js","./use-route-legacy-047c5dd8.js","./use-id-legacy-3fcff666.js","./use-placeholder-legacy-3f8d867f.js","./index-legacy-1dd98c17.js"],(function(l,e){"use strict";var a,s,n,i,t,o,u,d,c,r,v,p,g,f,m,b,w,y,h,x,j,_,V,D,F,T,k,z=document.createElement("style");return z.textContent=".consult-illness-page[data-v-9372bfa1]{padding-top:11.73333vw}.consult-illness-page .illness-tip[data-v-9372bfa1]{display:flex;padding:4vw}.consult-illness-page .illness-tip .img[data-v-9372bfa1]{width:13.86667vw;height:13.86667vw;border-radius:1.06667vw;margin-top:2.66667vw}.consult-illness-page .illness-tip .info[data-v-9372bfa1]{flex:1;padding-left:3.2vw}.consult-illness-page .illness-tip .info .title[data-v-9372bfa1]{font-size:4.26667vw;margin-bottom:1.33333vw}.consult-illness-page .illness-tip .info .tip[data-v-9372bfa1]{padding:3.2vw;margin-bottom:2.66667vw;background:var(--mc-bg);font-size:3.46667vw;color:var(--mc-text3)}.consult-illness-page .illness-tip .info .safe[data-v-9372bfa1]{display:flex;align-items:center;font-size:2.66667vw;color:var(--mc-text3)}.consult-illness-page .illness-tip .info .safe .mc-icon[data-v-9372bfa1]{font-size:3.2vw;margin-right:.53333vw}.consult-illness-page .illness-form[data-v-9372bfa1]{padding:4vw}.consult-illness-page .illness-form .van-field[data-v-9372bfa1]{padding:0}.consult-illness-page .illness-form .van-field[data-v-9372bfa1]:after{border-bottom:none}.consult-illness-page .illness-form .question>p[data-v-9372bfa1]{color:var(--mc-text3);padding:4vw 0}.consult-illness-page .illness-form .illness-img[data-v-9372bfa1]{padding-top:4.26667vw;margin-bottom:10.66667vw;display:flex;align-items:center}.consult-illness-page .illness-form .illness-img .tip[data-v-9372bfa1]{font-size:3.2vw;color:var(--mc-tip)}.consult-illness-page .illness-form .illness-img .van-uploader[data-v-9372bfa1] .van-uploader__preview-delete{left:-1.6vw;top:-1.6vw;border-radius:50%;background-color:var(--mc-primary);width:5.33333vw;height:5.33333vw}.consult-illness-page .illness-form .illness-img .van-uploader[data-v-9372bfa1] .van-uploader__preview-delete-icon{transform:scale(.9) translate(-22%,22%)}.consult-illness-page .illness-form .illness-img .van-uploader[data-v-9372bfa1] .van-uploader__preview-image{border-radius:2.13333vw;overflow:hidden}.consult-illness-page .illness-form .illness-img .van-uploader[data-v-9372bfa1] .van-uploader__upload{border-radius:2.13333vw}.consult-illness-page .illness-form .illness-img .van-uploader[data-v-9372bfa1] .van-uploader__upload-icon{color:--mc-text3}.consult-illness-page .illness-form .van-button[data-v-9372bfa1]{font-size:4.26667vw;margin-bottom:8vw}.consult-illness-page .illness-form .van-button.disabled[data-v-9372bfa1]{opacity:1;background:#fafafa;color:#d9dbde;border:#fafafa}\n",document.head.appendChild(z),{setters:[l=>{a=l.d,s=l.r,n=l.a,i=l.n,t=l.l,o=l.o,u=l.e,d=l.c,c=l.h,r=l.s,v=l.w,p=l.i,g=l.u,f=l.v,m=l.p,b=l.f},l=>{w=l.U},l=>{y=l._},null,l=>{h=l.F},l=>{x=l._},l=>{j=l._},l=>{_=l._},l=>{V=l.b},l=>{D=l.u},l=>{F=l.s},l=>{T=l.B},l=>{k=l._},null,null,null,null,null,null,null,null,null],execute:function(){const e=l=>(m("data-v-9372bfa1"),l=l(),b(),l),z={class:"consult-illness-page"},C={class:"illness-tip van-hairline--bottom"},I=e((()=>c("img",{class:"img",src:_,alt:"doctor img"},null,-1))),q={class:"info"},M=e((()=>c("p",{class:"title"},"在线医生",-1))),U=e((()=>c("p",{class:"tip"}," 请描述你的疾病或症状、是否用药、就诊经历，需要我听过什么样的帮助 ",-1))),A={class:"safe"},B=e((()=>c("span",null,"内容仅医生可见",-1))),H={class:"illness-form"},N={class:"question"},O=e((()=>c("p",null,"本次患病多久了？",-1))),R={class:"question"},S=e((()=>c("p",null,"此次病情是否去医院就诊过？",-1))),Y={class:"illness-img"},E={key:0,class:"tip"};l("default",k(a({__name:"ConsultIllness",setup(l){const e=s([{label:"一周内",value:V.Week},{label:"一月内",value:V.Month},{label:"半年内",value:V.HalfYear},{label:"大于半年",value:V.AfterHalfYear}]),a=s([{label:"就诊过",value:1},{label:"未就诊过",value:0}]),m=s({illnessDesc:"",illnessTime:void 0,consultFlag:void 0,pictures:[]}),b=s([]),_=l=>{Array.isArray(l)||l.file&&(l.status="uploading",l.message="上传中...",D(l.file).then((e=>{l.status="done",l.message=void 0,l.url=e.url,m.value.pictures?.push(e)})).catch((()=>{l.status="failed",l.message="上传失败"})))},k=l=>{m.value.pictures=m.value.pictures?.filter((e=>e.url!==l.url))},G=n((()=>!m.value.illnessDesc||!m.value.illnessTime||void 0===m.value.consultFlag)),J=i(),L=f(),P=()=>{J.setIllness(m.value),L.push("/user/patient?isChange=1")};return t((()=>{J.consult.illnessDesc&&F({title:"提示",message:"您之前有填写病情描述的记录，需要回现吗？",closeOnPopstate:!1}).then((()=>{const{illnessDesc:l,illnessTime:e,consultFlag:a,pictures:s}=J.consult;m.value={illnessDesc:l,illnessTime:e,consultFlag:a},m.value.pictures=s||[],b.value=s||[]}))})),(l,s)=>{const n=j,i=x,t=h,f=y,V=w,D=T;return o(),u("div",z,[d(n,{middleTitle:"图文问诊"}),c("div",C,[I,c("div",q,[M,U,c("p",A,[d(i,{name:"consult-safe"}),B])])]),c("div",H,[d(t,{modelValue:m.value.illnessDesc,"onUpdate:modelValue":s[0]||(s[0]=l=>m.value.illnessDesc=l),type:"textarea",rows:"3",placeholder:"请详细描述您的病情，病情描述不能为空"},null,8,["modelValue"]),c("div",N,[O,d(f,{modelValue:m.value.illnessTime,"onUpdate:modelValue":s[1]||(s[1]=l=>m.value.illnessTime=l),options:e.value},null,8,["modelValue","options"])]),c("div",R,[S,d(f,{modelValue:m.value.consultFlag,"onUpdate:modelValue":s[2]||(s[2]=l=>m.value.consultFlag=l),options:a.value},null,8,["modelValue","options"])]),c("div",Y,[d(V,{modelValue:b.value,"onUpdate:modelValue":s[3]||(s[3]=l=>b.value=l),onDelete:k,afterRead:_,maxCount:"9",maxSize:"5 * 1024 * 1024",uploadIcon:"photo-o",uploadText:"上传图片"},null,8,["modelValue"]),b.value&&b.value.length>0?r("",!0):(o(),u("p",E," 上传内容仅医生可见,最多9张图,最大5MB "))]),d(D,{disabled:g(G),onClick:P,block:"",round:"",type:"primary"},{default:v((()=>[p(" 下一步 ")])),_:1},8,["disabled"])])])}}}),[["__scopeId","data-v-9372bfa1"]]))}}}));
