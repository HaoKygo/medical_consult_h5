System.register(["./request-legacy-49611e85.js","./index-legacy-04b56afa.js","./index-legacy-784a89ae.js","./index-legacy-1dd98c17.js","./index-legacy-7ed2e303.js","./interceptor-legacy-9047adcd.js"],(function(e,t){"use strict";var n,o,l,a,c,s,i,r,u,d,m,f,g,B,w,C,h,b,y,p,v,x,k,S,D,T,O,j;return{setters:[e=>{n=e.p,o=e.b,l=e.P,a=e.m,c=e.c},e=>{s=e.d,i=e.r,r=e.D,u=e.c,d=e.m,m=e.O},e=>{f=e.B},e=>{g=e.A,B=e.a},e=>{w=e.c,C=e.e,h=e.n,b=e.H,y=e.h,p=e.t,v=e.G,x=e.C,k=e.K,S=e.L,D=e.M,T=e.N,O=e.f},e=>{j=e.c}],execute:function(){e("a",K);const[t,H,P]=w("dialog"),A=C({},n,{title:String,theme:String,width:h,message:[String,Function],callback:Function,allowHtml:Boolean,className:b,transition:y("van-dialog-bounce"),messageAlign:String,closeOnPopstate:p,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:p,closeOnClickOverlay:Boolean}),N=[...o,"transition","closeOnPopstate"];var z=s({name:t,props:A,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const o=i(),a=r({confirm:!1,cancel:!1}),c=e=>t("update:show",e),s=t=>{var n;c(!1),null==(n=e.callback)||n.call(e,t)},w=n=>()=>{e.show&&(t(n),e.beforeClose?(a[n]=!0,j(e.beforeClose,{args:[n],done(){s(n),a[n]=!1},canceled(){a[n]=!1}})):s(n))},C=w("cancel"),h=w("confirm"),b=m((n=>{var l,a;n.target===(null==(a=null==(l=o.value)?void 0:l.popupRef)?void 0:a.value)&&({Enter:e.showConfirmButton?h:k,Escape:e.showCancelButton?C:k}[n.key](),t("keydown",n))}),["enter","esc"]),y=()=>{const t=n.title?n.title():e.title;if(t)return u("div",{class:H("header",{isolated:!e.message&&!n.default})},[t])},p=t=>{const{message:n,allowHtml:o,messageAlign:l}=e,a=H("message",{"has-title":t,[l]:l}),c=S(n)?n():n;return o&&"string"==typeof c?u("div",{class:a,innerHTML:c},null):u("div",{class:a},[c])},O=()=>{if(n.default)return u("div",{class:H("content")},[n.default()]);const{title:t,message:o,allowHtml:l}=e;if(o){const e=!(!t&&!n.title);return u("div",{key:l?1:0,class:H("content",{isolated:!e})},[p(e)])}},A=()=>n.footer?n.footer():"round-button"===e.theme?u(B,{class:H("footer")},{default:()=>[e.showCancelButton&&u(g,{type:"warning",text:e.cancelButtonText||P("cancel"),class:H("cancel"),color:e.cancelButtonColor,loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:C},null),e.showConfirmButton&&u(g,{type:"danger",text:e.confirmButtonText||P("confirm"),class:H("confirm"),color:e.confirmButtonColor,loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:h},null)]}):u("div",{class:[T,H("footer")]},[e.showCancelButton&&u(f,{size:"large",text:e.cancelButtonText||P("cancel"),class:H("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:C},null),e.showConfirmButton&&u(f,{size:"large",text:e.confirmButtonText||P("confirm"),class:[H("confirm"),{[D]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:h},null)]);return()=>{const{width:t,title:n,theme:a,message:s,className:i}=e;return u(l,d({ref:o,role:"dialog",class:[H([a]),i],style:{width:x(t)},tabindex:0,"aria-labelledby":n||s,onKeydown:b,"onUpdate:show":c},v(e,N)),{default:()=>[y(),O(),A()]})}}});let E,F=C({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1});function K(e){return O?new Promise(((t,n)=>{E||function(){const e={setup(){const{state:e,toggle:t}=c();return()=>u(z,d(e,{"onUpdate:show":t}),null)}};({instance:E}=a(e))}(),E.open(C({},F,e,{callback:e=>{("confirm"===e?t:n)(e)}}))})):Promise.resolve()}e("s",(e=>K(C({showCancelButton:!0},e))))}}}));
