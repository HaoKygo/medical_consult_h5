System.register(["./index-legacy-7ed2e303.js","./index-legacy-9d303c5d.js","./use-id-legacy-3fcff666.js","./request-legacy-49611e85.js","./index-legacy-04b56afa.js"],(function(e,t){"use strict";var l,a,r,n,i,o,s,d,c,v,u,f,g,p,h,m,b,_,x,y,w,k,z,C,S,V,M,I,A,B,E,j,T,q,L,P,W,$,D=document.createElement("style");return D.textContent=':root{--van-field-label-width: 6.2em;--van-field-label-color: var(--van-text-color);--van-field-label-margin-right: var(--van-padding-sm);--van-field-input-text-color: var(--van-text-color);--van-field-input-error-text-color: var(--van-danger-color);--van-field-input-disabled-text-color: var(--van-text-color-3);--van-field-placeholder-text-color: var(--van-text-color-3);--van-field-icon-size: 4.26667vw;--van-field-clear-icon-size: 4.26667vw;--van-field-clear-icon-color: var(--van-gray-5);--van-field-right-icon-color: var(--van-gray-6);--van-field-error-message-color: var(--van-danger-color);--van-field-error-message-font-size: 3.2vw;--van-field-text-area-min-height: 16vw;--van-field-word-limit-color: var(--van-gray-7);--van-field-word-limit-font-size: var(--van-font-size-sm);--van-field-word-limit-line-height: 4.26667vw;--van-field-disabled-text-color: var(--van-text-color-3);--van-field-required-mark-color: var(--van-red)}.van-field{flex-wrap:wrap}.van-field__label{flex:none;box-sizing:border-box;width:var(--van-field-label-width);margin-right:var(--van-field-label-margin-right);color:var(--van-field-label-color);text-align:left;word-wrap:break-word}.van-field__label--center{text-align:center}.van-field__label--right{text-align:right}.van-field__label--top{display:flex;width:100%;text-align:left;margin-bottom:var(--van-padding-base);word-break:break-word}.van-field__label--required:before{margin-right:.53333vw;color:var(--van-field-required-mark-color);content:"*"}.van-field--disabled .van-field__label{color:var(--van-field-disabled-text-color)}.van-field__value{overflow:visible}.van-field__body{display:flex;align-items:center}.van-field__control{display:block;box-sizing:border-box;width:100%;min-width:0;margin:0;padding:0;color:var(--van-field-input-text-color);line-height:inherit;text-align:left;background-color:transparent;border:0;resize:none;-webkit-user-select:auto;user-select:auto}.van-field__control::-webkit-input-placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control::placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control:disabled{color:var(--van-field-input-disabled-text-color);cursor:not-allowed;opacity:1;-webkit-text-fill-color:var(--van-field-input-disabled-text-color)}.van-field__control:read-only{cursor:default}.van-field__control--center{justify-content:center;text-align:center}.van-field__control--right{justify-content:flex-end;text-align:right}.van-field__control--custom{display:flex;align-items:center;min-height:var(--van-cell-line-height)}.van-field__control--error::-webkit-input-placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--error,.van-field__control--error::placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--min-height{min-height:var(--van-field-text-area-min-height)}.van-field__control[type=date],.van-field__control[type=time],.van-field__control[type=datetime-local]{min-height:var(--van-cell-line-height)}.van-field__control[type=search]{-webkit-appearance:none}.van-field__clear,.van-field__icon,.van-field__button,.van-field__right-icon{flex-shrink:0}.van-field__clear,.van-field__right-icon{margin-right:calc(var(--van-padding-xs) * -1);padding:0 var(--van-padding-xs);line-height:inherit}.van-field__clear{color:var(--van-field-clear-icon-color);font-size:var(--van-field-clear-icon-size);cursor:pointer}.van-field__left-icon .van-icon,.van-field__right-icon .van-icon{display:block;font-size:var(--van-field-icon-size);line-height:inherit}.van-field__left-icon{margin-right:var(--van-padding-base)}.van-field__right-icon{color:var(--van-field-right-icon-color)}.van-field__button{padding-left:var(--van-padding-xs)}.van-field__error-message{color:var(--van-field-error-message-color);font-size:var(--van-field-error-message-font-size);text-align:left}.van-field__error-message--center{text-align:center}.van-field__error-message--right{text-align:right}.van-field__word-limit{margin-top:var(--van-padding-base);color:var(--van-field-word-limit-color);font-size:var(--van-field-word-limit-font-size);line-height:var(--van-field-word-limit-line-height);text-align:right}\n',document.head.appendChild(D),{setters:[e=>{l=e.U,a=e.D,r=e.i,n=e.T,i=e.L,o=e.c,s=e.n,d=e.h,c=e.m,v=e.e,u=e.H,f=e.a,g=e.C,p=e.l,h=e.F,m=e.x,b=e.Q,_=e.V,x=e.p,y=e.I,w=e.W,k=e.X,z=e.w},e=>{C=e.c,S=e.C},e=>{V=e.u},e=>{M=e.u},e=>{I=e.d,A=e.D,B=e.r,E=e.a,j=e.J,T=e.E,q=e.G,L=e.l,P=e.c,W=e.m,$=e.i}],execute:function(){function t(e){return Array.isArray(e)?!e.length:0!==e&&!e}function D(e,t){const{message:l}=t;return i(l)?l(e,t):l||""}function F({target:e}){e.composing=!0}function H({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function R(e){return[...e].length}function O(e,t){return[...e].slice(0,t).join("")}const[G,J]=o("field"),K={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:s,formatter:Function,clearIcon:d("clear"),modelValue:c(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:d("focus"),formatTrigger:d("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},Q=v({},C,K,{rows:s,type:d("text"),rules:Array,autosize:[Boolean,Object],labelWidth:s,labelClass:u,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var U=I({name:G,props:Q,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:i,slots:o}){const s=V(),d=A({status:"unvalidated",focused:!1,validateMessage:""}),c=B(),v=B(),u=B(),{parent:z}=f(h),C=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},I=t=>m(e[t])?e[t]:z&&m(z.props[t])?z.props[t]:void 0,G=E((()=>{const t=I("readonly");if(e.clearable&&!t){const t=""!==C(),l="always"===e.clearTrigger||"focus"===e.clearTrigger&&d.focused;return t&&l}return!1})),K=E((()=>u.value&&o.input?u.value():e.modelValue)),Q=e=>e.reduce(((e,l)=>e.then((()=>{if("failed"===d.status)return;let{value:e}=K;if(l.formatter&&(e=l.formatter(e,l)),!function(e,l){if(t(e)){if(l.required)return!1;if(!1===l.validateEmpty)return!0}return!(l.pattern&&!l.pattern.test(String(e)))}(e,l))return d.status="failed",void(d.validateMessage=D(e,l));if(l.validator){if(t(e)&&!1===l.validateEmpty)return;return function(e,t){return new Promise((l=>{const a=t.validator(e,t);n(a)?a.then(l):l(a)}))}(e,l).then((t=>{t&&"string"==typeof t?(d.status="failed",d.validateMessage=t):!1===t&&(d.status="failed",d.validateMessage=D(e,l))}))}}))),Promise.resolve()),U=()=>{d.status="unvalidated",d.validateMessage=""},X=()=>i("endValidate",{status:d.status,message:d.validateMessage}),N=(t=e.rules)=>new Promise((l=>{U(),t?(i("startValidate"),Q(t).then((()=>{"failed"===d.status?(l({name:e.name,message:d.validateMessage}),X()):(d.status="passed",l(),X())}))):l()})),Y=t=>{if(z&&e.rules){const{validateTrigger:l}=z.props,a=b(l).includes(t),r=e.rules.filter((e=>e.trigger?b(e.trigger).includes(t):a));r.length&&N(r)}},Z=(t,l="onChange")=>{const a=t;t=(t=>{var l;const{maxlength:a}=e;if(m(a)&&R(t)>+a){const e=C();if(e&&R(e)===+a)return e;const r=null==(l=c.value)?void 0:l.selectionEnd;if(d.focused&&r){const e=[...t],l=e.length-+a;return e.splice(r-l,l),e.join("")}return O(t,+a)}return t})(t);const r=R(a)-R(t);if("number"===e.type||"digit"===e.type){const l="number"===e.type;t=_(t,l,l)}let n=0;if(e.formatter&&l===e.formatTrigger){const{formatter:l,maxlength:r}=e;if(t=l(t),m(r)&&R(t)>+r&&(t=O(t,+r)),c.value&&d.focused){const{selectionEnd:e}=c.value,t=O(a,e);n=R(l(t))-R(t)}}if(c.value&&c.value.value!==t)if(d.focused){let{selectionStart:e,selectionEnd:l}=c.value;if(c.value.value=t,m(e)&&m(l)){const a=R(t);r?(e-=r,l-=r):n&&(e+=n,l+=n),c.value.setSelectionRange(Math.min(e,a),Math.min(l,a))}}else c.value.value=t;t!==e.modelValue&&i("update:modelValue",t)},ee=e=>{e.target.composing||Z(e.target.value)},te=()=>{var e;return null==(e=c.value)?void 0:e.blur()},le=()=>{const t=c.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const n=l();e.style.height="auto";let i=e.scrollHeight;if(r(t)){const{maxHeight:e,minHeight:l}=t;void 0!==e&&(i=Math.min(i,e)),void 0!==l&&(i=Math.max(i,l))}i&&(e.style.height=`${i}px`,a(n))}(t,e.autosize)},ae=e=>{d.focused=!0,i("focus",e),q(le),I("readonly")&&te()},re=e=>{d.focused=!1,Z(C(),"onBlur"),i("blur",e),I("readonly")||(Y("onBlur"),q(le),k())},ne=e=>i("clickInput",e),ie=e=>i("clickLeftIcon",e),oe=e=>i("clickRightIcon",e),se=E((()=>"boolean"==typeof e.error?e.error:!(!z||!z.props.showError||"failed"!==d.status)||void 0)),de=E((()=>{const e=I("labelWidth"),t=I("labelAlign");if(e&&"top"!==t)return{width:g(e)}})),ce=t=>{13===t.keyCode&&(z&&z.props.submitOnEnter||"textarea"===e.type||x(t),"search"===e.type&&te()),i("keypress",t)},ve=()=>e.id||`${s}-input`,ue=()=>{const t=J("control",[I("inputAlign"),{error:se.value,custom:!!o.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(o.input)return P("div",{class:t,onClick:ne},[o.input()]);const l={id:ve(),ref:c,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:I("disabled"),readonly:I("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${s}-label`:void 0,onBlur:re,onFocus:ae,onInput:ee,onClick:ne,onChange:H,onKeypress:ce,onCompositionend:H,onCompositionstart:F};return"textarea"===e.type?P("textarea",l,null):P("input",W("number"===(a=e.type)?{type:"text",inputmode:"decimal"}:"digit"===a?{type:"tel",inputmode:"numeric"}:{type:a},l),null);var a},fe=()=>{const t=o["right-icon"];if(e.rightIcon||t)return P("div",{class:J("right-icon"),onClick:oe},[t?t():P(y,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},ge=()=>{if(e.showWordLimit&&e.maxlength){const t=R(C());return P("div",{class:J("word-limit")},[P("span",{class:J("word-num")},[t]),$("/"),e.maxlength])}},pe=()=>{if(z&&!1===z.props.showErrorMessage)return;const t=e.errorMessage||d.validateMessage;if(t){const e=o["error-message"],l=I("errorMessageAlign");return P("div",{class:J("error-message",l)},[e?e({message:t}):t])}},he=()=>[P("div",{class:J("body")},[ue(),G.value&&P(y,{ref:v,name:e.clearIcon,class:J("clear")},null),fe(),o.button&&P("div",{class:J("button")},[o.button()])]),ge(),pe()];return M({blur:te,focus:()=>{var e;return null==(e=c.value)?void 0:e.focus()},validate:N,formValue:K,resetValidation:U,getValidationStatus:()=>d.status}),j(w,{customValue:u,resetValidation:U,validateWithTrigger:Y}),T((()=>e.modelValue),(()=>{Z(C()),U(),Y("onChange"),q(le)})),L((()=>{Z(C(),e.formatTrigger),q(le)})),p("touchstart",(e=>{x(e),i("update:modelValue",""),i("clear",e)}),{target:E((()=>{var e;return null==(e=v.value)?void 0:e.$el}))}),()=>{const t=I("disabled"),l=I("labelAlign"),a=(()=>{const t=o["left-icon"];if(e.leftIcon||t)return P("div",{class:J("left-icon"),onClick:ie},[t?t():P(y,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return P(S,{size:e.size,class:J({error:se.value,disabled:t,[`label-${l}`]:l}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:de.value,valueClass:J("value"),titleClass:[J("label",[l,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:a&&"top"!==l?()=>a:null,title:()=>{const t=(()=>{const t=I("labelWidth"),l=I("labelAlign"),a=I("colon")?":":"";return o.label?[o.label(),a]:e.label?P("label",{id:`${s}-label`,for:ve(),style:"top"===l&&t?{width:g(t)}:void 0},[e.label+a]):void 0})();return"top"===l?[a,t].filter(Boolean):t||[]},value:he,extra:o.extra})}}});e("F",z(U))}}}));
