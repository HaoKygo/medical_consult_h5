System.register(["./index-legacy-04b56afa.js","./index-legacy-386c46c8.js","./McPaySheet-legacy-e9e19c9d.js","./useDeleteConsultOrder-legacy-257fe821.js","./constants-legacy-4ea2c4f6.js","./index-legacy-6bad4039.js","./index-legacy-9d303c5d.js","./McNavBar-legacy-163ae2a7.js","./avatar-doctor-legacy-b54bf544.js","./index-legacy-38ccaefa.js","./consult-legacy-47466b10.js","./index-legacy-2910aa39.js","./request-legacy-49611e85.js","./useShowPrescription-legacy-84668b03.js","./index-legacy-7ed2e303.js","./index-legacy-784a89ae.js","./_plugin-vue_export-helper-legacy-762b7923.js","./index-legacy-8ea1b784.js","./McIcon-legacy-3fed9db7.js","./use-route-legacy-047c5dd8.js","./use-placeholder-legacy-3f8d867f.js","./interceptor-legacy-9047adcd.js","./function-call-legacy-85d542e3.js","./index-legacy-1e717b33.js"],(function(a,e){"use strict";var t,l,d,o,i,n,u,c,r,s,v,p,g,f,y,w,h,m,x,b,k,_,C,j,I,$,P,z,D,S,M,N,O,T,W,E,L,U,q,A,B,F=document.createElement("style");return F.textContent='.consult-detail-page[data-v-dad7fda5]{padding:11.73333vw 0 29.33333vw}.consult-detail-page .detail-head[data-v-dad7fda5]{height:37.33333vw;position:relative;padding:4vw}.consult-detail-page .detail-head[data-v-dad7fda5]:before{content:"";position:absolute;left:0;top:0;width:100%;height:36vw;background:linear-gradient(180deg,rgba(44,181,165,0),rgba(44,181,165,.2));border-bottom-left-radius:40vw 5.33333vw;border-bottom-right-radius:40vw 5.33333vw}.consult-detail-page .detail-head .text[data-v-dad7fda5]{display:flex;flex-wrap:wrap;justify-content:space-between;padding:2.66667vw .8vw}.consult-detail-page .detail-head .text .status[data-v-dad7fda5]{color:var(--mc-tag);font-size:4.26667vw;font-weight:500}.consult-detail-page .detail-head .text .status.green[data-v-dad7fda5]{color:var(--mc-primary)}.consult-detail-page .detail-head .text .status.orange[data-v-dad7fda5]{color:#f2994a}.consult-detail-page .detail-head .text .tip[data-v-dad7fda5]{width:100%;margin-top:1.33333vw;color:var(--mc-text3)}.consult-detail-page .detail-head .card[data-v-dad7fda5]{position:relative;display:flex;align-items:center;height:19.73333vw;background-color:#fff;border-radius:2.13333vw;padding:0 4vw;box-shadow:0 0 5.86667vw rgba(229,229,229,.5)}.consult-detail-page .detail-head .card .avatar[data-v-dad7fda5]{width:10.13333vw;height:10.13333vw}.consult-detail-page .detail-head .card .doctor[data-v-dad7fda5]{flex:1;padding-left:4vw}.consult-detail-page .detail-head .card .doctor>span[data-v-dad7fda5]{display:block;font-size:4.26667vw}.consult-detail-page .detail-head .card .doctor>span[data-v-dad7fda5]:last-child{font-size:3.46667vw;color:var(--mc-text3)}.consult-detail-page .detail-head .card .van-icon[data-v-dad7fda5]{color:var(--mc-tip)}.consult-detail-page .detail-patient[data-v-dad7fda5]:after{content:"";display:block;height:3.2vw;background-color:var(--mc-bg)}.consult-detail-page .detail-order>h3[data-v-dad7fda5]{padding:2.66667vw 4.8vw;font-weight:400}.consult-detail-page .detail-order .copy[data-v-dad7fda5]{padding:.53333vw 2.66667vw;background-color:var(--mc-plain);border-radius:3.2vw;border:1px solid var(--mc-primary);font-size:3.2vw;color:var(--mc-primary);margin-right:2.66667vw}.consult-detail-page .detail-order[data-v-dad7fda5] .van-cell__title{width:18.66667vw;flex:none}.consult-detail-page .detail-order .price[data-v-dad7fda5] .van-cell__value{font-size:4.26667vw;color:var(--mc-price)}.consult-detail-page .detail-time[data-v-dad7fda5]{position:fixed;left:0;bottom:17.33333vw;width:100%;height:11.2vw;line-height:11.2vw;background-color:#fff7eb;text-align:center;font-size:3.46667vw;color:#f2994a}.consult-detail-page .detail-time .van-count-down[data-v-dad7fda5]{display:inline;color:#f2994a}.consult-detail-page .detail-action[data-v-dad7fda5]{position:fixed;left:0;bottom:0;width:100%;height:17.33333vw;display:flex;justify-content:flex-end;align-items:center;background-color:#fff;box-sizing:border-box;padding:0 4vw}.consult-detail-page .detail-action .price[data-v-dad7fda5]{flex:1}.consult-detail-page .detail-action .price>span[data-v-dad7fda5]:last-child{font-size:4.8vw;color:var(--mc-price);padding-left:1.33333vw}.consult-detail-page .detail-action .van-button[data-v-dad7fda5]{margin-left:2.66667vw;padding-left:4.8vw;padding-right:4.8vw}.consult-detail-page .detail-action[data-v-dad7fda5] .van-button--default{background-color:var(--mc-bg);color:var(--mc-text3)}.consult-detail-page .detail-action .more[data-v-dad7fda5]{flex:1;color:var(--mc-tag)}.consult-detail-page .van-cell[data-v-dad7fda5]{padding-left:4.8vw;padding-right:4.8vw}\n',document.head.appendChild(F),{setters:[a=>{t=a.d,l=a.r,d=a.l,o=a.E,i=a.a,n=a.o,u=a.e,c=a.c,r=a.h,s=a.t,v=a.A,p=a.u,g=a.w,f=a.i,y=a.k,w=a.s,h=a.v,m=a.y,x=a.p,b=a.f},a=>{k=a.S},a=>{_=a._},a=>{C=a.u,j=a.a,I=a.P},a=>{$=a.C,P=a.t,z=a.f},a=>{D=a.C},a=>{S=a.C},a=>{M=a._},a=>{N=a._},a=>{O=a.O},a=>{T=a.d},a=>{W=a.a},a=>{E=a.s,L=a.a},a=>{U=a.u},a=>{q=a.I},a=>{A=a.B},a=>{B=a._},null,null,null,null,null,null,null],execute:function(){const e=a=>(x("data-v-dad7fda5"),a=a(),b(),a),F={key:0,class:"consult-detail-page"},V={class:"detail-head"},G={class:"text"},J=e((()=>r("p",{class:"tip"},"服务医生信息",-1))),K={class:"card"},R=e((()=>r("img",{class:"avatar",src:N,alt:"doctor avatar"},null,-1))),H={class:"doctor"},Q=e((()=>r("span",null,"极速问诊",-1))),X={class:"detail-patient"},Y={class:"detail-order"},Z=e((()=>r("h3",null,"订单信息",-1))),aa={key:0,class:"detail-time"},ea={key:1,class:"detail-action van-hairline--top"},ta={class:"price"},la=e((()=>r("span",null,"需付款",-1))),da={key:2,class:"detail-action van-hairline--top"},oa={key:3,class:"detail-action van-hairline--top"},ia={key:4,class:"detail-action van-hairline--top"},na={class:"more"},ua={key:5,class:"detail-action van-hairline--top"},ca={key:1,class:"consult-detail-page"};a("default",B(t({__name:"ConsultDetail",setup(a){const e=h(),t=m(),x=l();d((async()=>{const a=await T(t.params.id);x.value=a}));const{copy:b,copied:N,isSupported:B}=W(),ra=()=>{if(!B.value)return E("未授权，不支持复制");b(x.value?.orderNo||"")};o(N,(()=>{N.value&&L("已复制")}));const sa=l(!1),{cancelLoading:va,cancelConsultOrder:pa}=C(),{deleteLoading:ga,deleteConsultOrder:fa}=j(e.back),{showPrescription:ya}=U(),wa=()=>{x.value?.countdown&&(x.value.countdown=0)},ha=l(!1),ma=i((()=>[{text:"查看处方",disabled:!x.value?.prescriptionId},{text:"删除订单"}])),xa=(a,e)=>{0===e&&ya(x.value?.prescriptionId),1===e&&fa(x.value)};return(a,e)=>{const t=M,l=q,d=S,o=D,i=$,h=A,m=I,b=_,C=k;return x.value?(n(),u("div",F,[c(t,{middleTitle:"问诊详情"}),r("div",V,[r("div",G,[r("h3",null,"图文问诊 "+s(x.value.payment)+" 元",1),r("span",{class:v(["status green",{orange:x.value.status===p(O).ConsultPayWait,green:x.value.status===p(O).ConsultChat}])},s(x.value.statusValue),3),J]),r("div",K,[R,r("p",H,[Q,r("span",null,s(x.value.docInfo?.name),1)]),c(l,{name:"arrow"})])]),r("div",X,[c(o,{border:!1},{default:g((()=>[c(d,{title:"患者信息",value:`${x.value.patientInfo.name} | ${x.value.patientInfo.genderValue} | ${x.value.patientInfo.age}岁`},null,8,["value"]),c(d,{title:"患病时长",value:p(P).find((a=>a.value===x.value?.illnessTime))?.label},null,8,["value"]),c(d,{title:"就诊情况",value:p(z).find((a=>a.value===x.value?.consultFlag))?.label},null,8,["value"]),c(d,{title:"病情描述",label:x.value.illnessDesc},null,8,["label"])])),_:1})]),r("div",Y,[Z,c(o,{border:!1},{default:g((()=>[c(d,{title:"订单编号"},{value:g((()=>[r("span",{class:"copy",onClick:ra},"复制"),f(" "+s(x.value.orderNo),1)])),_:1}),c(d,{title:"创建时间",value:x.value.createTime},null,8,["value"]),c(d,{title:"应付款",value:`￥${x.value.payment}`},null,8,["value"]),x.value.couponDeduction?(n(),y(d,{key:0,title:"优惠券",value:`-￥${x.value.couponDeduction}`},null,8,["value"])):w("",!0),x.value.pointDeduction?(n(),y(d,{key:1,title:"积分抵扣",value:`-￥${x.value.pointDeduction}`},null,8,["value"])):w("",!0),c(d,{title:"实付款",value:`￥${x.value.actualPayment}`,class:"price"},null,8,["value"])])),_:1})]),x.value.status===p(O).ConsultPayWait&&x.value.countdown?(n(),u("div",aa,[f(" 请在 "),c(i,{time:1e3*x.value.countdown,onFinish:wa},null,8,["time"]),f(" 内完成支付，超时订单将取消 ")])):w("",!0),x.value.status===p(O).ConsultPayWait?(n(),u("div",ea,[r("div",ta,[la,r("span",null,s(`¥${x.value.payment}`),1)]),c(h,{type:"default",loading:p(va),onClick:e[0]||(e[0]=a=>p(pa)(x.value)),round:""},{default:g((()=>[f(" 取消问诊 ")])),_:1},8,["loading"]),c(h,{onClick:e[1]||(e[1]=a=>sa.value=!0),type:"primary",round:""},{default:g((()=>[f(" 继续支付 ")])),_:1})])):w("",!0),x.value.status===p(O).ConsultWait?(n(),u("div",da,[c(h,{loading:p(va),onClick:e[2]||(e[2]=a=>p(pa)(x.value)),type:"default",round:""},{default:g((()=>[f(" 取消问诊 ")])),_:1},8,["loading"]),c(h,{to:`/room?orderId=${x.value.id}`,type:"primary",round:""},{default:g((()=>[f(" 继续沟通 ")])),_:1},8,["to"])])):w("",!0),x.value.status===p(O).ConsultChat?(n(),u("div",oa,[c(h,{onClick:e[3]||(e[3]=a=>p(ya)(x.value?.prescriptionId)),type:"default",loading:p(va),round:""},{default:g((()=>[f(" 查看处方 ")])),_:1},8,["loading"]),c(h,{to:`/room?orderId=${x.value.id}`,type:"primary",round:""},{default:g((()=>[f(" 继续沟通 ")])),_:1},8,["to"])])):w("",!0),x.value.status===p(O).ConsultComplete?(n(),u("div",ia,[r("div",na,[c(m,{actions:p(ma),onSelect:xa,placement:"top-start",show:ha.value,"onUpdate:show":e[4]||(e[4]=a=>ha.value=a)},{reference:g((()=>[f("更多")])),_:1},8,["actions","show"])]),c(h,{loading:p(ga),to:`/room?orderId=${x.value.id}`,type:"default",round:""},{default:g((()=>[f(" 问诊记录 ")])),_:1},8,["loading","to"]),x.value.evaluateId?(n(),y(h,{key:1,to:`/room?orderId=${x.value.id}`,type:"default",round:""},{default:g((()=>[f(" 查看评价 ")])),_:1},8,["to"])):(n(),y(h,{key:0,to:`/room?orderId=${x.value.id}`,type:"primary",round:""},{default:g((()=>[f(" 去评价 ")])),_:1},8,["to"]))])):w("",!0),x.value.status===p(O).ConsultCancel?(n(),u("div",ua,[c(h,{loading:p(ga),onClick:e[5]||(e[5]=a=>p(fa)(x.value)),type:"default",round:""},{default:g((()=>[f(" 删除订单 ")])),_:1},8,["loading"]),c(h,{to:"/home",type:"primary",round:""},{default:g((()=>[f("咨询其他医生")])),_:1})])):w("",!0),c(b,{show:sa.value,"onUpdate:show":e[6]||(e[6]=a=>sa.value=a),orderId:x.value.id,actualPayment:x.value.payment},null,8,["show","orderId","actualPayment"])])):(n(),u("div",ca,[c(t,{middleTitle:"问诊详情"}),c(C,{title:"",row:4,style:{"margin-top":"30px"}}),c(C,{title:"",row:4,style:{"margin-top":"30px"}})]))}}}),[["__scopeId","data-v-dad7fda5"]]))}}}));
